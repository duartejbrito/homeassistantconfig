  - platform: yr

  - platform: plex
    host: !secret plexserver
    port: !secret plexserverport

  - platform: mqtt
    state_topic: "zanzito/s8/battery_level"
    name: "s8batterylevel"
    unit_of_measurement: '%'
    retain: true
    device_class: battery

  - platform: mqtt
    state_topic: "zanzito/s6/battery_level"
    name: "s6batterylevel"
    unit_of_measurement: '%'
    retain: true
    device_class: battery

  - platform: mqtt
    state_topic: "zanzito/j5/battery_level"
    name: "j5batterylevel"
    unit_of_measurement: '%'
    retain: true
    device_class: battery

  - platform: mqtt
    state_topic: "zanzito/s8/device_info"
    name: "s8deviceinfo"
    value_template: '{{ value_json.device_info }}'
    retain: true
    json_attributes:
      - charge_type
      - battery_charging
      - current_foreground_app
      - screen_on
      - screen_locked
      - screen_orientation
      - current_wifi
      - current_operator

  - platform: mqtt
    state_topic: "zanzito/s6/device_info"
    name: "s6deviceinfo"
    value_template: '{{ value_json.device_info }}'
    retain: true
    json_attributes:
      - charge_type
      - battery_charging
      - current_foreground_app
      - screen_on
      - screen_locked
      - screen_orientation
      - current_wifi
      - current_operator

  - platform: mqtt
    state_topic: "zanzito/j5/device_info"
    name: "j5deviceinfo"
    value_template: '{{ value_json.device_info }}'
    retain: true
    json_attributes:
      - charge_type
      - battery_charging
      - current_foreground_app
      - screen_on
      - screen_locked
      - screen_orientation
      - current_wifi
      - current_operator

  - platform: template
    sensors:
      motion_sensor_158d00029a9d0e_battery:
        friendly_name: Motion Sensor
        unit_of_measurement: '%'
        device_class: battery
        value_template: >
          {{ states.binary_sensor.motion_sensor_158d00029a9d0e.attributes.battery_level | int }}