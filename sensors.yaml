  - platform: yr

  - platform: plex
    host: !secret plexserver
    port: !secret plexserverport

  - platform: mqtt
    state_topic: "zanzito/s8/battery_level"
    name: "s8batterylevel"
    unit_of_measurement: '%'
    retain: true
    device_class: battery

  - platform: mqtt
    state_topic: "zanzito/hp/battery_level"
    name: "hpbatterylevel"
    unit_of_measurement: '%'
    retain: true
    device_class: battery

  - platform: mqtt
    state_topic: "zanzito/j5/battery_level"
    name: "j5batterylevel"
    unit_of_measurement: '%'
    retain: true
    device_class: battery

  - platform: mqtt
    state_topic: "zanzito/s8/device_info"
    name: "s8deviceinfo"
    value_template: '{{ value_json.device_info }}'
    retain: true
    json_attributes:
      - charge_type
      - battery_charging
      - current_foreground_app
      - screen_on
      - screen_locked
      - screen_orientation
      - current_wifi
      - current_operator

  - platform: mqtt
    state_topic: "zanzito/sp/device_info"
    name: "hpdeviceinfo"
    value_template: '{{ value_json.device_info }}'
    retain: true
    json_attributes:
      - charge_type
      - battery_charging
      - current_foreground_app
      - screen_on
      - screen_locked
      - screen_orientation
      - current_wifi
      - current_operator

  - platform: mqtt
    state_topic: "zanzito/j5/device_info"
    name: "j5deviceinfo"
    value_template: '{{ value_json.device_info }}'
    retain: true
    json_attributes:
      - charge_type
      - battery_charging
      - current_foreground_app
      - screen_on
      - screen_locked
      - screen_orientation
      - current_wifi
      - current_operator

  - platform: tautulli
    api_key: !secret tautulli_api_key
    host: !secret tautulli_host
    monitored_conditions:

  - platform: template
    sensors:
      motion_sensor_158d00029a9d0e_battery:
        friendly_name: Motion Sensor
        unit_of_measurement: '%'
        device_class: battery
        value_template: >
          {{ states.binary_sensor.motion_sensor_158d00029a9d0e.attributes.battery_level | int }}
      door_window_sensor_158d00028de42c_battery:
        friendly_name: Door Sensor
        unit_of_measurement: '%'
        device_class: battery
        value_template: >
          {{ states.binary_sensor.door_window_sensor_158d00028de42c.attributes.battery_level | int }}
      temperature_158d0002786e71_battery:
        friendly_name: Temperature Sensor
        unit_of_measurement: '%'
        device_class: battery
        value_template: >
          {{ states.sensor.temperature_158d0002786e71.attributes.battery_level | int }}
      dlink_smart_plug_w215_temperature:
        unit_of_measurement: 'Â°C'
        device_class: temperature
        value_template: >
          {{ states.switch.dlink_smart_plug_w215.attributes.temperature }}